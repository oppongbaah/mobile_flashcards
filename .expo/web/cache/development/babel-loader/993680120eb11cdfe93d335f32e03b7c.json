{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport AsyncStorage from \"@react-native-community/async-storage\";\nimport seed from \"./database\";\nvar STORAGE_KEY = \"mega_flashcards_data\";\nexport function getDecks() {\n  var data, results, parsedData, i;\n  return _regeneratorRuntime.async(function getDecks$(_context) {\n    while (1) {\n      switch (_context.prev = _context.next) {\n        case 0:\n          _context.prev = 0;\n          data = [];\n          _context.next = 4;\n          return _regeneratorRuntime.awrap(AsyncStorage.getItem(STORAGE_KEY));\n\n        case 4:\n          results = _context.sent;\n          parsedData = JSON.parse(results);\n\n          if (!results) {\n            _context.next = 11;\n            break;\n          }\n\n          for (i in parsedData) {\n            data.push(parsedData[i]);\n          }\n\n          return _context.abrupt(\"return\", data);\n\n        case 11:\n          _context.next = 13;\n          return _regeneratorRuntime.awrap(AsyncStorage.setItem(STORAGE_KEY, JSON.stringify(seed())));\n\n        case 13:\n          return _context.abrupt(\"return\", seed());\n\n        case 14:\n          _context.next = 21;\n          break;\n\n        case 16:\n          _context.prev = 16;\n          _context.t0 = _context[\"catch\"](0);\n          _context.next = 20;\n          return _regeneratorRuntime.awrap(AsyncStorage.setItem(STORAGE_KEY, JSON.stringify(seed())));\n\n        case 20:\n          return _context.abrupt(\"return\", seed());\n\n        case 21:\n        case \"end\":\n          return _context.stop();\n      }\n    }\n  }, null, null, [[0, 16]], Promise);\n}","map":{"version":3,"sources":["/home/isaac/Documents/React Native/Project/vm/mobile-flashcards/src/utils/api.js"],"names":["AsyncStorage","seed","STORAGE_KEY","getDecks","data","getItem","results","parsedData","JSON","parse","i","push","setItem","stringify"],"mappings":";AAAA,OAAOA,YAAP,MAAyB,uCAAzB;AACA,OAAOC,IAAP;AAEA,IAAMC,WAAW,GAAG,sBAApB;AAEA,OAAO,SAAeC,QAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEKC,UAAAA,IAFL,GAEY,EAFZ;AAAA;AAAA,2CAIuBJ,YAAY,CAACK,OAAb,CAAqBH,WAArB,CAJvB;;AAAA;AAIOI,UAAAA,OAJP;AAMKC,UAAAA,UANL,GAMkBC,IAAI,CAACC,KAAL,CAAWH,OAAX,CANlB;;AAAA,eAQKA,OARL;AAAA;AAAA;AAAA;;AASK,eAAQI,CAAR,IAAaH,UAAb,EAAyB;AACrBH,YAAAA,IAAI,CAACO,IAAL,CAAUJ,UAAU,CAACG,CAAD,CAApB;AACH;;AAXN,2CAaYN,IAbZ;;AAAA;AAAA;AAAA,2CAgBWJ,YAAY,CAACY,OAAb,CAAqBV,WAArB,EAAkCM,IAAI,CAACK,SAAL,CAAeZ,IAAI,EAAnB,CAAlC,CAhBX;;AAAA;AAAA,2CAiBYA,IAAI,EAjBhB;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA,2CAqBOD,YAAY,CAACY,OAAb,CAAqBV,WAArB,EAAkCM,IAAI,CAACK,SAAL,CAAeZ,IAAI,EAAnB,CAAlC,CArBP;;AAAA;AAAA,2CAsBQA,IAAI,EAtBZ;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA","sourcesContent":["import AsyncStorage from \"@react-native-community/async-storage\";\nimport seed from './database';\n    \nconst STORAGE_KEY = \"mega_flashcards_data\";\n\nexport async function getDecks() {\n    try {\n        let data = [];\n\n        const results = await AsyncStorage.getItem(STORAGE_KEY);\n\n        let parsedData = JSON.parse(results);\n\n        if (results){\n            for(let i in parsedData) {\n                data.push(parsedData[i]);\n            }\n\n            return data;\n        } \n        else {\n            await AsyncStorage.setItem(STORAGE_KEY, JSON.stringify(seed()));\n            return seed();\n        }\n    }\n    catch (error) {\n        await AsyncStorage.setItem(STORAGE_KEY, JSON.stringify(seed()));\n        return seed();\n    }\n}\n"]},"metadata":{},"sourceType":"module"}